<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile Viewer</title>
  <style>
    /* Background */
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #feda75, #fa7e1e, #d62976, #962fbf, #4f5bd5);
      background-size: 600% 600%;
      animation: gradientBG 15s ease infinite;
      color: #fff;
      overflow: hidden;
    }
    @keyframes gradientBG {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    /* Floating Instagram Icon */
    .logo {
      position: absolute;
      top: 40px;
      font-size: 3rem;
      text-shadow: 0 0 20px rgba(255,255,255,0.6),
                   0 0 40px rgba(214,41,118,0.9),
                   0 0 80px rgba(72,50,164,0.8);
      animation: float 4s ease-in-out infinite;
    }
    @keyframes float {
      0% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
      100% { transform: translateY(0); }
    }

    /* Card */
    .card {
      background: rgba(255,255,255,0.1);
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.25);
      backdrop-filter: blur(12px);
      text-align: center;
      width: 90%;
      max-width: 420px;
      border: 1px solid rgba(255,255,255,0.3);
      animation: glow 3s ease-in-out infinite alternate;
    }
    @keyframes glow {
      from { box-shadow: 0 0 20px #d62976; }
      to { box-shadow: 0 0 40px #4f5bd5; }
    }

    h1 {
      font-size: 2.5rem;
      font-weight: 900;
      margin-bottom: 25px;
      background: linear-gradient(45deg,#feda75,#d62976,#4f5bd5);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    label {
      display: block;
      margin: 15px 0 8px;
      font-weight: 600;
      text-align: left;
    }

    input {
      width: 100%;
      padding: 14px;
      border-radius: 12px;
      border: none;
      outline: none;
      font-size: 1rem;
      margin-bottom: 15px;
      background: rgba(255,255,255,0.2);
      color: #fff;
      box-shadow: inset 0 0 8px rgba(0,0,0,0.2);
    }
    input::placeholder { color: #ddd; }

    button {
      background: linear-gradient(45deg,#d62976,#962fbf,#4f5bd5);
      color: #fff;
      font-size: 1rem;
      font-weight: bold;
      border: none;
      padding: 14px 30px;
      border-radius: 30px;
      cursor: pointer;
      transition: 0.3s;
      box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    }
    button:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(0,0,0,0.4);
    }

    /* Result */
    .result {
      margin-top: 25px;
      font-size: 1.8rem;
      font-weight: 800;
      min-height: 40px;
    }

    .typing {
      display: inline-block;
      border-right: 2px solid #fff;
      white-space: nowrap;
      overflow: hidden;
      animation: typing 2s steps(20) forwards, blink 0.7s infinite;
    }
    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }
    @keyframes blink {
      50% { border-color: transparent }
    }
  </style>
</head>
<body>
  <div class="logo">üì∏</div>
  <div class="card">
    <h1>PROFILE VIEWER</h1>
    <label>Option 1: Enter your username</label>
    <input type="text" id="yourUsername" placeholder="@your_name">

    <label>Option 2: Enter search username</label>
    <input type="text" id="searchUsername" placeholder="@search_name">

    <button onclick="showResult()">Search</button>
    <div class="result" id="result"></div>
  </div>

  <script>
    function showResult() {
      const searchUsername = document.getElementById("searchUsername").value.trim();
      const resultDiv = document.getElementById("result");

      if (searchUsername) {
        resultDiv.innerHTML = `<span class="typing">üîç ${searchUsername}</span>`;
      } else {
        resultDiv.innerHTML = "‚ö†Ô∏è Please enter username to search!";
      }
    }
  </script>
</body>
</html>    }
    .bg .layer{
      position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);filter:blur(50px);
      mix-blend-mode:screen;opacity:0.85;
    }
    .bg .l1{width:640px;height:640px;background:radial-gradient(circle at 30% 30%, rgba(255,77,109,0.18), transparent 20%), linear-gradient(45deg,#ff4d6d,#ffa69e);transform:translate3d(-200px,-120px, -120px) rotateZ(-8deg)}
    .bg .l2{width:520px;height:520px;background:radial-gradient(circle at 70% 70%, rgba(124,92,255,0.16), transparent 18%), linear-gradient(45deg,#7c5cff,#59d0ff);transform:translate3d(220px,120px, -80px) rotateZ(6deg)}
    .bg .l3{width:860px;height:860px;background:conic-gradient(from 120deg, rgba(67,233,123,0.06), transparent 20%), linear-gradient(45deg,#43e97b,#38a3a5);opacity:0.6;transform:translate3d(0,60px, -200px) rotateZ(10deg)}

    /* animated grid/inset */
    .bg .grid {
      position:absolute;inset:-10%;background-image:linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px), linear-gradient(0deg, rgba(255,255,255,0.02) 1px, transparent 1px);
      background-size:200px 200px, 200px 200px;mix-blend-mode:overlay;opacity:0.25;transform:translateZ(-320px) scale(1.2);
    }

    /* ---------- Card styles ---------- */
    .card{
      position:relative;z-index:10;border-radius:18px;padding:22px;background:var(--card-bg);box-shadow:var(--shadow);
      border:1px solid rgba(255,255,255,0.03);backdrop-filter:blur(8px);
    }

    /* left panel */
    .left h1{margin:0;font-size:20px}
    .lead{margin:6px 0 18px;color:rgba(255,255,255,0.9);font-size:13px}
    label{display:block;font-size:13px;margin:10px 0 6px;color:rgba(255,255,255,0.95)}
    input[type=text]{width:100%;padding:12px 14px;border-radius:12px;border:none;background:rgba(255,255,255,0.04);color:inherit;font-size:14px}
    .row{display:flex;gap:10px;align-items:center}

    .btn{
      padding:11px 16px;border-radius:12px;border:none;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;font-weight:700;cursor:pointer;box-shadow:0 10px 30px rgba(12,10,28,0.4);
      transform:translateZ(40px);
    }
    .secondary{background:transparent;border:1px solid rgba(255,255,255,0.08);font-weight:600}

    .note{font-size:12px;color:rgba(255,255,255,0.78);margin-top:12px}

    /* right preview card with 3D tilt effect */
    .preview{
      transform-style:preserve-3d;transition:transform 0.25s ease;display:flex;flex-direction:column;gap:12px;padding:26px;border-radius:18px;
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      border:1px solid rgba(255,255,255,0.03);
    }
    .preview-inner{transform:translateZ(40px)}
    .avatar{width:110px;height:110px;border-radius:18px;display:inline-grid;place-items:center;font-weight:800;font-size:42px;color:#111;background:linear-gradient(120deg,#fff,#f1f5f9);box-shadow:0 8px 30px rgba(2,6,23,0.35)}
    .displayName{font-weight:800;font-size:20px}
    .handle{color:rgba(255,255,255,0.85);font-size:13px}

    .stats{display:flex;gap:14px;font-size:13px;color:rgba(255,255,255,0.9)}
    .status{padding:12px;border-radius:12px;background:rgba(0,0,0,0.18)}

    footer{font-size:12px;color:rgba(255,255,255,0.75);margin-top:8px}

    /* ---------- Particles canvas ---------- */
    canvas.particles{position:absolute;inset:0;width:100%;height:100%;z-index:2;pointer-events:none;mix-blend-mode:screen;opacity:0.9}

    /* small screens */
    @media (max-width:980px){
      .stage{grid-template-columns:1fr;gap:14px;height:auto;padding-bottom:18px}
      .bg{border-radius:14px}
      .preview{order:2}
    }
  </style>
</head>
<body>
  <div class="stage" id="stage">
    <!-- background 3D layers -->
    <div class="bg" aria-hidden="true">
      <div class="layer l1"></div>
      <div class="layer l2"></div>
      <div class="layer l3"></div>
      <div class="grid"></div>
      <canvas class="particles" id="particles"></canvas>
    </div>

    <!-- left: controls -->
    <div class="card left">
      <h1>Private Account ‚Äî Testing only (Educational purpose)</h1>
      <p class="lead">Highly stylized demo UI. <strong>Only usernames</strong> are sent to the server. Never enter passwords.</p>

      <form id="viewerForm" onsubmit="return false;">
        <label for="me">Enter your username</label>
        <input id="me" type="text" placeholder="@your_username" autocomplete="off" />

        <label for="target">Enter the username to search</label>
        <input id="target" type="text" placeholder="@target_username" autocomplete="off" />

        <div style="margin-top:14px;display:flex;gap:10px;align-items:center">
          <button id="searchBtn" class="btn" type="button">Search</button>
          <button id="mockBtn" class="btn secondary" type="button">Mock Result</button>
          <div id="statusText" style="color:rgba(255,255,255,0.9);font-size:13px;margin-left:8px">Ready</div>
        </div>

        <div class="note">Demo sends <strong>only</strong> user names to <code>/request-access</code>. This is educational & ethical ‚Äî no scraping.</div>
      </form>

      <footer>Designed with 3D parallax & animated particles.</footer>
    </div>

    <!-- right: preview -->
    <div class="card preview" id="previewCard" aria-live="polite">
      <div class="preview-inner">
        <div style="display:flex;gap:18px;align-items:center">
          <div class="avatar" id="avatar">?</div>
          <div>
            <div class="displayName" id="displayName">‚Äî</div>
            <div class="handle" id="displayHandle">‚Äî</div>
          </div>
        </div>

        <div class="stats" style="margin-top:6px">
          <div>Followers: <strong id="followers">‚Äî</strong></div>
          <div>Following: <strong id="following">‚Äî</strong></div>
          <div>Posts: <strong id="posts">‚Äî</strong></div>
        </div>

        <div id="bio" style="margin-top:10px;color:rgba(255,255,255,0.9)">Enter usernames and press Search ‚Äî mock preview will appear.</div>

        <div id="resultArea" style="margin-top:12px"></div>

        <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
          <div style="font-size:13px;color:rgba(255,255,255,0.9)">Last action: <span id="lastAction">none</span></div>
          <div style="display:flex;gap:8px">
            <button id="notFoundBtn" class="secondary" style="display:none;padding:8px 12px;border-radius:10px">Info not found</button>
            <button id="followBtn" class="btn" style="display:none;padding:8px 12px;border-radius:10px">Request Access</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    /* ---------- Particles (canvas) ---------- */
    const canvas = document.getElementById('particles');
    const ctx = canvas.getContext('2d');
    let W, H, particles = [];
    function resize() {
      W = canvas.width = canvas.clientWidth;
      H = canvas.height = canvas.clientHeight;
    }
    function rand(min,max){return Math.random()*(max-min)+min}
    function initParticles(){
      particles = [];
      for(let i=0;i<55;i++){
        particles.push({
          x: rand(0,W), y: rand(0,H),
          r: rand(0.6,3.6),
          vx: rand(-0.3,0.3),
          vy: rand(-0.2,0.6),
          hue: rand(200,340)
        });
      }
    }
    function drawParticles(){
      ctx.clearRect(0,0,W,H);
      for(const p of particles){
        p.x += p.vx; p.y += p.vy;
        if(p.x< -10) p.x = W+10;
        if(p.x> W+10) p.x = -10;
        if(p.y> H+10) p.y = -10;
        ctx.beginPath();
        const g = ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.r*6);
        g.addColorStop(0, `hsla(${p.hue},85%,65%,0.14)`);
        g.addColorStop(1, `hsla(${p.hue},85%,65%,0)`);
        ctx.fillStyle = g;
        ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
        ctx.fill();
      }
      requestAnimationFrame(drawParticles);
    }
    window.addEventListener('resize', ()=>{resize(); initParticles();});
    resize(); initParticles(); drawParticles();

    /* ---------- 3D tilt interaction ---------- */
    const stage = document.getElementById('stage');
    const preview = document.getElementById('previewCard');
    stage.addEventListener('mousemove', (e)=>{
      const rect = stage.getBoundingClientRect();
      const cx = rect.left + rect.width/2;
      const cy = rect.top + rect.height/2;
      const dx = (e.clientX - cx);
      const dy = (e.clientY - cy);
      const rx = dy / 120;
      const ry = -dx / 160;
      preview.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg) translateZ(0)`;
    });
    stage.addEventListener('mouseleave', ()=> preview.style.transform = 'rotateX(0deg) rotateY(0deg)');

    /* ---------- Demo logic (same API: /request-access) ---------- */
    function initials(name){
      if(!name) return '?';
      const n = name.replace(/^@/,'').trim();
      const parts = n.split(/[_\-\.\s]+/).filter(Boolean);
      if(parts.length===1) return parts[0].slice(0,2).toUpperCase();
      return (parts[0][0] + (parts[1] ? parts[1][0] : '')).toUpperCase();
    }
    function randomInt(min,max){ return Math.floor(Math.random()*(max-min+1))+min }

    const meInput = document.getElementById('me');
    const targetInput = document.getElementById('target');
    const avatar = document.getElementById('avatar');
    const displayName = document.getElementById('displayName');
    const displayHandle = document.getElementById('displayHandle');
    const followers = document.getElementById('followers');
    const following = document.getElementById('following');
    const posts = document.getElementById('posts');
    const bio = document.getElementById('bio');
    const statusText = document.getElementById('statusText');
    const lastAction = document.getElementById('lastAction');
    const resultArea = document.getElementById('resultArea');
    const notFoundBtn = document.getElementById('notFoundBtn');
    const followBtn = document.getElementById('followBtn');

    async function sendRequest(requester,target){
      try{
        const res = await fetch('/request-access', {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify({ requester: requester.replace(/^@/,''), target: target.replace(/^@/,'') })
        });
        const data = await res.json().catch(()=>({}));
        return { ok: res.ok, data };
      }catch(err){
        console.error(err);
        return { ok:false };
      }
    }

    function showMock(me,target){
      const t = target.replace(/^@/,'') || 'target';
      displayName.textContent = t;
      displayHandle.textContent = 'Viewed by ' + (me.replace(/^@/,'') || 'you');
      avatar.textContent = initials(target);
      followers.textContent = randomInt(120,12800).toLocaleString();
      following.textContent = randomInt(10,1500).toLocaleString();
      posts.textContent = randomInt(1,900).toLocaleString();
      bio.textContent = "This is a mock preview ‚Äî educational only. Use official APIs to view real accounts with permission.";
      lastAction.textContent = 'Local preview';
      notFoundBtn.style.display = 'inline-flex';
      followBtn.style.display = 'inline-flex';
      resultArea.innerHTML = '';
    }

    document.getElementById('searchBtn').addEventListener('click', async ()=>{
      const me = meInput.value.trim();
      const target = targetInput.value.trim();
      if(!me || !target){ alert('Please enter both usernames.'); return; }
      statusText.textContent = 'Generating preview‚Ä¶';
      showMock(me,target);
      statusText.textContent = 'Notifying admin‚Ä¶';
      const r = await sendRequest(me,target);
      if(r.ok && r.data && r.data.ok){
        statusText.textContent = 'Notification sent (usernames only).';
      } else {
        statusText.textContent = 'Notification failed or server unreachable.';
      }
    });

    document.getElementById('mockBtn').addEventListener('click', ()=>{
      const me = meInput.value.trim() || '@you';
      const target = targetInput.value.trim() || '@target';
      showMock(me,target);
      if(Math.random() < 0.5){
        resultArea.innerHTML = '<div class="status">Info not found ‚Äî this is only a test.</div>';
        lastAction.textContent = 'Not found (mock)';
      } else {
        resultArea.innerHTML = '<div class="status">Sample public info: bio: "Designer & builder" ‚Ä¢ posts: 42</div>';
        lastAction.textContent = 'Sample info shown';
      }
    });

    notFoundBtn.addEventListener('click', ()=>{
      resultArea.innerHTML = '<div class="status">Info not found ‚Äî demo only.</div>';
      lastAction.textContent = 'Not found shown';
    });

    followBtn.addEventListener('click', async ()=>{
      const me = meInput.value.trim() || '@you';
      const target = targetInput.value.trim() || '@target';
      resultArea.innerHTML = '<div class="status">Access requested ‚Äî check admin notification (demo).</div>';
      lastAction.textContent = 'Access requested';
      await sendRequest(me,target);
    });

    // accessibility: Enter triggers search
    document.addEventListener('keydown', e => { if(e.key==='Enter'){ document.getElementById('searchBtn').click(); e.preventDefault(); }});
  </script>
</body>
</html>    }

    .hero{
      padding:28px;border-radius:20px;background:linear-gradient(135deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
      display:flex;flex-direction:column;gap:12px;
    }

    h1{margin:0;font-size:20px;letter-spacing:0.2px}
    p.lead{margin:0;color:rgba(255,255,255,0.9);font-size:13px}

    label{display:block;font-size:13px;margin:12px 0 6px;color:rgba(255,255,255,0.85)}
    input[type=text]{width:100%;padding:12px 14px;border-radius:10px;border:none;background:rgba(255,255,255,0.06);color:inherit;font-size:14px}
    .row{display:flex;gap:10px;align-items:center}
    .btn{
      padding:10px 14px;border-radius:12px;border:none;background:var(--accent);font-weight:700;color:#fff;cursor:pointer;
      box-shadow:0 6px 18px rgba(10,10,10,0.15);
    }
    .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.12);font-weight:600}

    .meta{font-size:13px;color:rgba(255,255,255,0.9);margin-top:6px}
    .note{font-size:12px;color:rgba(255,255,255,0.8);margin-top:10px}

    /* right preview */
    .preview{display:flex;flex-direction:column;gap:12px;padding:22px;border-radius:18px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02))}

    .avatar{
      width:86px;height:86px;border-radius:18px;display:inline-grid;place-items:center;font-weight:700;font-size:34px;
      color:rgba(2,6,23,0.9);background:linear-gradient(120deg,#fff,#f1f5f9);color:#222;
    }

    .small{font-size:13px;color:rgba(255,255,255,0.9)}
    .muted{color:rgba(255,255,255,0.75);font-size:13px}

    .status{font-size:14px;padding:10px;border-radius:10px;background:rgba(0,0,0,0.2);color:#fff}

    .actions{display:flex;gap:10px}

    footer{margin-top:8px;font-size:12px;color:rgba(255,255,255,0.75);}

    @media (max-width:900px){
      .wrap{grid-template-columns:1fr; padding:12px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card hero" role="region" aria-labelledby="title">
      <div>
        <h1 id="title">Private Account ‚Äî Testing only (Educational purpose)</h1>
        <p class="lead">This is a safe demo. <strong>Only usernames</strong> are sent to the server for demonstration. <em>Do not enter passwords or private tokens.</em></p>
      </div>

      <form id="viewerForm" onsubmit="return false;" aria-label="Private account demo form">
        <label for="me">Enter your username</label>
        <input id="me" type="text" placeholder="@your_username" autocomplete="off" />

        <label for="target">Enter the username to search</label>
        <input id="target" type="text" placeholder="@target_username" autocomplete="off" />

        <div style="margin-top:12px;display:flex;gap:10px;align-items:center">
          <button id="searchBtn" class="btn" type="button">Search</button>
          <button id="mockBtn" class="btn secondary" type="button">Show Mock Result</button>
          <div id="statusText" class="muted" style="margin-left:6px">Ready to send (usernames only)</div>
        </div>

        <div class="note">This demo will send only the two usernames to the backend endpoint <code>/request-access</code>. No passwords, no scraping ‚Äî educational only.</div>
      </form>

      <footer>Built for ethical testing & learning.</footer>
    </div>

    <div class="card preview" aria-live="polite">
      <div style="display:flex;gap:16px;align-items:center">
        <div class="avatar" id="avatar">?</div>
        <div style="flex:1">
          <div id="displayName" style="font-weight:700;font-size:18px">‚Äî</div>
          <div id="displayHandle" class="muted">‚Äî</div>
        </div>
      </div>

      <div class="row">
        <div class="small">Followers</div>
        <div style="flex:1" id="followers">‚Äî</div>
      </div>

      <div class="small" id="bio">Enter usernames and click Search to test the demo. Results are mock and educational only.</div>

      <div id="resultArea" style="margin-top:12px"></div>

      <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center">
        <div class="small">Last action: <span id="lastAction">none</span></div>
        <div class="actions">
          <button id="notFoundBtn" class="btn secondary" style="display:none">Info not found</button>
          <button id="followBtn" class="btn" style="display:none">Request Access</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // helper functions
    function initials(name){
      if(!name) return '?';
      const n = name.replace(/^@/,'').trim();
      if(!n) return '?';
      const parts = n.split(/[_\-\.\s]+/).filter(Boolean);
      if(parts.length===1) return parts[0].slice(0,2).toUpperCase();
      return (parts[0][0] + (parts[1] ? parts[1][0] : '')).toUpperCase();
    }
    function rand(min,max){ return Math.floor(Math.random()*(max-min+1))+min }

    const meInput = document.getElementById('me');
    const targetInput = document.getElementById('target');
    const avatar = document.getElementById('avatar');
    const displayName = document.getElementById('displayName');
    const displayHandle = document.getElementById('displayHandle');
    const followers = document.getElementById('followers');
    const bio = document.getElementById('bio');
    const statusText = document.getElementById('statusText');
    const lastAction = document.getElementById('lastAction');
    const resultArea = document.getElementById('resultArea');
    const notFoundBtn = document.getElementById('notFoundBtn');
    const followBtn = document.getElementById('followBtn');

    // UI update of a mock preview
    function showMockPreview(me, target){
      const t = target.replace(/^@/,'') || 'target';
      displayName.textContent = t;
      displayHandle.textContent = 'Viewed by ' + (me.replace(/^@/,'') || 'you');
      avatar.textContent = initials(target);
      followers.textContent = rand(120, 12800).toLocaleString();
      bio.textContent = "This is a mock preview for educational purposes. To view real accounts use official APIs with permission.";
      lastAction.textContent = 'Preview generated locally';
      notFoundBtn.style.display = 'inline-flex';
      followBtn.style.display = 'inline-flex';
      resultArea.innerHTML = '';
    }

    // show not-found UI
    function showNotFound(){
      resultArea.innerHTML = '<div class="status">Info not found. This is only a test ‚Äî no real data was accessed.</div>';
      lastAction.textContent = 'Info not found shown';
    }

    // send safe POST to backend
    async function sendRequest(requester,target){
      statusText.textContent = 'Sending notification...';
      try{
        const res = await fetch('/request-access', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ requester: requester.replace(/^@/,'') , target: target.replace(/^@/,'') })
        });
        const data = await res.json().catch(()=>({}));
        statusText.textContent = (res.ok && data.ok) ? 'Notification sent (usernames only).' : 'Notification failed (server error).';
        return data;
      }catch(err){
        console.error(err);
        statusText.textContent = 'Could not reach server';
        return null;
      }
    }

    // event handlers
    document.getElementById('searchBtn').addEventListener('click', async ()=>{
      const me = meInput.value.trim();
      const target = targetInput.value.trim();
      if(!me || !target){ alert('Please enter both usernames (this is a demo).'); return; }

      // local preview
      showMockPreview(me,target);

      // attempt to notify backend (only usernames)
      await sendRequest(me,target);
    });

    // extra: mock button toggles either not-found or sample info
    document.getElementById('mockBtn').addEventListener('click', ()=>{
      const me = meInput.value.trim() || '@you';
      const target = targetInput.value.trim() || '@target';
      showMockPreview(me,target);
      // randomly show not found or a stubbed profile
      if(Math.random()<0.5){
        showNotFound();
      } else {
        resultArea.innerHTML = '<div class="status">Sample public info: bio: "Designer & builder" ‚Ä¢ posts: 42</div>';
        lastAction.textContent = 'Sample info shown';
      }
    });

    notFoundBtn.addEventListener('click', showNotFound);

    followBtn.addEventListener('click', async ()=>{
      // simulate request access flow (this also sends to backend)
      const me = meInput.value.trim() || '@you';
      const target = targetInput.value.trim() || '@target';
      showMockPreview(me,target);
      resultArea.innerHTML = '<div class="status">Access requested ‚Äî check admin notification (demo).</div>';
      lastAction.textContent = 'Access requested';
      await sendRequest(me,target);
    });

    // keyboard: enter triggers search
    document.addEventListener('keydown', e => {
      if(e.key==='Enter'){
        document.getElementById('searchBtn').click();
        e.preventDefault();
      }
    });
  </script>
</body>
</html>    h1{margin:0 0 6px 0;font-size:20px;letter-spacing:0.2px}
    p.lead{margin:0 0 18px 0;color:rgba(230,238,248,0.8);font-size:13px}

    label{display:block;font-size:12px;color:rgba(230,238,248,0.7);margin-bottom:6px}
    input[type=text]{width:100%;padding:12px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit;font-size:14px}

    .btn{display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:10px;border:none;background:linear-gradient(90deg,#7c5cff,#59d0ff);color:white;font-weight:600;cursor:pointer}
    .btn:active{transform:translateY(1px)}

    .preview{display:flex;flex-direction:column;gap:12px}
    .avatar{width:86px;height:86px;border-radius:18px;display:inline-grid;place-items:center;font-weight:700;font-size:28px;color:rgba(2,6,23,0.9);background:linear-gradient(120deg,#fff,#f1f5f9)}

    .meta{display:flex;gap:12px;align-items:center}
    .meta .stat{font-size:13px;color:rgba(230,238,248,0.9)}

    .note{font-size:12px;color:rgba(230,238,248,0.6);margin-top:12px}

    /* responsive */
    @media (max-width:880px){
      .container{grid-template-columns:1fr;}
    }

    footer{margin-top:18px;font-size:12px;color:rgba(230,238,248,0.6)}
  </style>
</head>
<body>
  <div class="blob b1" aria-hidden></div>
  <div class="blob b2" aria-hidden></div>

  <div class="container">
    <div class="card">
      <h1>Private Account Viewer ‚Äî Demo</h1>
      <p class="lead">Safe demo UI ‚Äî this version <strong>only</strong> sends the two usernames (requester &amp; target) to your server for notification. <em>No passwords, no tokens, no private data.</em></p>

      <form id="viewerForm" onsubmit="return false;">
        <div style="margin-bottom:14px">
          <label for="me">Your username</label>
          <input id="me" type="text" placeholder="e.g. @rahul_raj" autocomplete="off" />
        </div>

        <div style="margin-bottom:16px">
          <label for="target">Username to view</label>
          <input id="target" type="text" placeholder="e.g. @private_person" autocomplete="off" />
        </div>

        <div style="display:flex;gap:10px;align-items:center">
          <button id="viewBtn" class="btn">View (Demo)</button>
          <div style="font-size:13px;color:rgba(230,238,248,0.7)" id="statusText">Preview will be generated locally.</div>
        </div>

        <div class="note">This will send only the two usernames to the server endpoint <code>/request-access</code> for admin notification (example: Telegram). Do not enter passwords here.</div>
      </form>

      <footer>Made for ethical demos ‚Äî does not retrieve real data.</footer>
    </div>

    <div class="card">
      <div id="previewArea" class="preview" aria-live="polite">
        <div style="display:flex;align-items:center;gap:16px">
          <div class="avatar" id="avatar">?</div>
          <div style="flex:1">
            <div id="displayName" style="font-weight:700;font-size:18px">‚Äî</div>
            <div id="displayHandle" style="color:rgba(230,238,248,0.7);font-size:13px">‚Äî</div>
          </div>
        </div>

        <div class="meta">
          <div class="stat">Followers: <span id="followers">‚Äî</span></div>
          <div class="stat">Following: <span id="following">‚Äî</span></div>
          <div class="stat">Posts: <span id="posts">‚Äî</span></div>
        </div>

        <div id="bio" style="font-size:14px;color:rgba(230,238,248,0.85);line-height:1.4">Enter usernames and click "View (Demo)" to see a mock preview.</div>

        <div style="margin-top:12px;font-size:12px;color:rgba(230,238,248,0.6)">Disclaimer: This is a local demo. It is intentionally designed to avoid any network calls or attempts to access external services unless you configure a safe backend endpoint.</div>
      </div>
    </div>
  </div>

  <script>
    const form = document.getElementById('viewerForm');
    const meInput = document.getElementById('me');
    const targetInput = document.getElementById('target');
    const avatar = document.getElementById('avatar');
    const displayName = document.getElementById('displayName');
    const displayHandle = document.getElementById('displayHandle');
    const followers = document.getElementById('followers');
    const following = document.getElementById('following');
    const posts = document.getElementById('posts');
    const bio = document.getElementById('bio');
    const statusText = document.getElementById('statusText');

    function initials(name){
      if(!name) return '?';
      const n = name.replace(/^@/, '').trim();
      const parts = n.split(/[_\-\.\s]+/).filter(Boolean);
      if(parts.length===1) return parts[0].slice(0,2).toUpperCase();
      return (parts[0][0] + (parts[1] ? parts[1][0] : '')).toUpperCase();
    }

    function randomInt(min,max){ return Math.floor(Math.random()*(max-min+1))+min }

    async function sendRequestNotification(requester, target){
      try{
        // Only sending two safe fields ‚Äî no passwords or tokens EVER
        const res = await fetch('/request-access', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ requester, target })
        });
        const data = await res.json().catch(()=>({}));
        if(res.ok) return { ok:true, data };
        return { ok:false, data };
      }catch(e){
        return { ok:false, error: e.message };
      }
    }

    document.getElementById('viewBtn').addEventListener('click', async ()=>{
      const me = meInput.value.trim() || '@you';
      const target = targetInput.value.trim() || '@target';

      // local mock preview
      displayName.textContent = target.replace(/^@/,'') || 'target';
      displayHandle.textContent = 'Viewed by ' + me.replace(/^@/,'');
      avatar.textContent = initials(target);
      followers.textContent = randomInt(120, 12800).toLocaleString();
      following.textContent = randomInt(10, 1500).toLocaleString();
      posts.textContent = randomInt(5, 420).toLocaleString();

      if(/^@?private/i.test(target) || /private/i.test(target)){
        bio.textContent = "This account appears private. Respect privacy ‚Äî request access or follow the platform's process.";
      } else {
        const bios = [
          "Designing interfaces is half the battle ‚Äî always show users what will happen with clear permissions.",
          "Friendly reminder: this is a demo. To view real profiles you must use official APIs with permission.",
          "Create clear audit trails when you build features that request access to private data."
        ];
        bio.textContent = bios[randomInt(0,bios.length-1)];
      }

      // send safe notification to backend
      statusText.textContent = 'Sending notification...';
      const result = await sendRequestNotification(me.replace(/^@/,'') , target.replace(/^@/,''));
      if(result.ok){
        statusText.textContent = 'Notification sent (usernames only).';
      } else {
        statusText.textContent = 'Could not send notification (server unreachable).';
      }

      avatar.animate([{transform:'scale(0.96)'},{transform:'scale(1)'}],{duration:260,easing:'cubic-bezier(.2,.9,.3,1)'});
    });

    form.addEventListener('keydown', e => { if(e.key==='Enter'){ document.getElementById('viewBtn').click(); e.preventDefault(); } });
  </script>
</body>
  <html>
